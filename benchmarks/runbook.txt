wget https://go.dev/dl/go1.21.5.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.21.5.linux-amd64.tar.gz
export PATH=$PATH:/usr/local/go/bin
sudo yum install -y git
git clone https://github.com/yzhang1991/presto-benchmark.git

cd presto-benchmark
go build
cd benchmarks
benchmark_base='/Users/ezhang/Downloads/benchmark_runs'
server='https://'

# Native SF-1K 4 streams defined in the spec
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    native.json \
    tpc-ds/4spec_streams.json

# Java SF-1K standard
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    java.json \
    tpc-ds/standard.json

# Java SF-1K with order_by
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    java.json \
    tpc-ds/ordered.json

# Java SF-1K full
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    java.json \
    tpc-ds/full.json

# Java SF-1K optimizer+
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    java.json \
    tpc-ds/optimizer+.json

# Java SF-1K 2 streams
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    java.json \
    tpc-ds/2streams.json

# Native SF-1K standard
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    native.json \
    tpc-ds/standard.json

# Native SF-1K with order_by
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    native.json \
    tpc-ds/ordered.json

# Native SF-1K full
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    native.json \
    tpc-ds/full.json

# Native SF-1K optimizer+
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    native.json \
    tpc-ds/optimizer+.json

# Native SF-1K 2 streams
../presto-benchmark run \
    -s $server \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1k.json \
    native.json \
    tpc-ds/2streams.json

# Java SF-1 on Hive Query Runner
../presto-benchmark run \
    -o $benchmark_base \
    tpc-ds/tpc-ds_sf1.json \
    java.json \
    tpc-ds/standard.json

# Very lightweight test stages on Hive Query Runner
../presto-benchmark run \
    -o $benchmark_base \
    save_output.json \
    test/stage_1.json
